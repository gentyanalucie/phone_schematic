<style>
    body {
        font-family: Arial, sans-serif;
        background: #f2f4f8;
        padding: 20px;
    }

    .quiz-box {
        max-width: 600px;
        margin: auto;
        background: #fff;
        padding: 25px;
        border-radius: 10px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .progress {
        font-size: 14px;
        color: #555;
        margin-bottom: 10px;
    }

    .question {
        font-weight: bold;
        margin-bottom: 15px;
    }

    .option {
        display: block;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 6px;
        margin-bottom: 8px;
        cursor: pointer;
    }

    .option:hover {
        background: #eef3ff;
    }

    .option.correct {
        background: #d1fae5;
        border-color: #10b981;
    }

    .option.wrong {
        background: #fee2e2;
        border-color: #ef4444;
    }

    button {
        margin-top: 15px;
        padding: 10px 15px;
        background: #2563eb;
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
    }

    button:disabled {
        background: #9ca3af;
        cursor: not-allowed;
    }

    .score {
        text-align: center;
        font-size: 20px;
        font-weight: bold;
    }

    .status {
    display: flex;
    justify-content: space-between;
    font-size: 14px;
    font-weight: bold;
    margin-bottom: 12px;
    color: #374151;
}

.option.correct {
    background: #dcfce7;
    border-color: #22c55e;
    color: #166534;
}

.option.wrong {
    background: #fee2e2;
    border-color: #ef4444;
    color: #991b1b;
}

.option.selected {
    background: #e0e7ff;
    border-color: #2563eb;
}



</style>
</head>

<div class="quiz-box">

    <!-- TOP STATUS -->
    <div class="status">
        <span id="progress"></span>
        <span id="score"></span>
    </div>

    <div class="question" id="question"></div>
    <div id="options"></div>

    <button id="nextBtn" onclick="nextQuestion()" disabled>Next</button>

</div>


<script>
    const rawQA = `1|Apa yang dimaksud dengan disassembly?|Proses merakit handphone|Proses membersihkan handphone|Proses membongkarhandphone menjadi beberapa bagian|Proses menghidupkan handphone|c|
2|Apa yang dimaksud dengan assembly?|Proses pengujian handphone|Proses pemasangan kembali komponen handphone|Prosespembongkaran handphone|Proses pemrograman handphone|b|
3|Apa tujuan dari proses disassembly?|Mempercantik handphone|Mengetahui kerusakan dan melakukan perbaikan|Mengganti software|Menghemat baterai|b|
4|Apa saja yang harus disiapkan dalam proses bongkar pasang handphone?|Obeng, pinset, alas kerja, blower|Charger dan headset|Kabel data dan komputer|Power bank dan SIM card|a|
5|Hal pertama yang harus dilakukan dalam proses bongkar pasang handphone?|Melepas LCD|Melepas backdoor|Mematikan handphone|Melepas kamera|c|
6|Komponen pertama yang harus dilepas dalam proses disassembly handphone?|Baterai|LCD|Speaker|Mainboard|a|
7|Apa yang dimaksud dengan backdoor pada handphone?|Layar handphone|Penutup bagian belakang handphone|Mesin handphone|Kaca kamera|b|
8|Fungsi backdoor pada handphone?|Memperkuat sinyal|Melindungi komponen bagian dalam handphone|Menyimpan data|Menghasilkan suara|b|
9|Jenis lem yang dipakai untuk merekatkan backdoor?|Lem kayu|Lem epoxy keras|Double tape / lem B7000|Lem kertas|c|
10|Bagaimana cara melunakkan lem pada backdoor?|Direndam air|Dipukul|Dipanaskan menggunakan heat gun atau blower|Didiamkan lama|c|
12|Ukuran obeng yang biasa dipakai dalam servis handphone?|Obeng besar|Obeng minus besar|Obeng presisi (+/- kecil)|Obeng kayu|c|
13|Posisi peletakkan baut yang baik dalam proses bongkar pasang handphone?|Dicampur jadi satu|Diletakkan sembarangan|Disusun rapi sesuai posisi asal|Dimasukkan ke kantong plastik|c|
14|Fungsi dari alas kerja magnet?|Menarik sinyal|Menahan baut agar tidak hilang|Membersihkan komponen|Mengukur tegangan|b|
15|Apa yang harus dilakukan agar kamera tidak kotor dan terkontaminasi debu?|Dipegang dengan tangan|Ditiup dengan mulut|Ditutup atau disimpan di tempat tertutup|Dicuci dengan air|c|
16|Apa yang dimaksud dengan komponen subboard?|Papan utama handphone|Papan tambahan pendukung fungsi tertentu|Baterai handphone|Kamera handphone|b|
17|Komponen apakah kabel fleksibel?|Komponen pasif|Media penghubung antar komponen|Sumber tegangan|Komponen pendingin|b|
18|Fungsi dari kabel fleksibel pada handphone?|Menyimpan daya|Menghubungkan dan menghantarkan sinyal antar komponen|Memperkuat casing|Menghasilkan suara|b|
19|Komponen apakah kabel coaxial?|Kabel daya|Kabel audio|Kabel sinyal RF/antenna|Kabel charger|c|
20|Apa yang dimaksud dengan fleksibel B2B (board to board)?|Kabel charger|Konektor langsung antar papan|Kabel kamera|Kabel speaker|b|
21|Apa yang dimaksud dengan mainboard pada handphone?|Penutup belakang|Papan utama tempat komponen inti|Baterai handphone|LCD handphone|b|`

function shuffle(arr) {
    for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
    }
}

function parseQuiz(text) {
    return text.trim().split("\n").map(line => {
        const [, question, a, b, c, d, key] = line.split("|");
        const choices = [a, b, c, d];
        return {
            question,
            choices,
            correct: choices[{ a: 0, b: 1, c: 2, d: 3 }[key]]
        };
    });
}

// ---------- INIT ----------
let quiz = parseQuiz(rawQA);
shuffle(quiz);
quiz.forEach(q => shuffle(q.choices));

let current = 0;
let score = 0;
let selectedAnswer = null;
let locked = false;

// ---------- RENDER ----------
function renderQuestion() {
    selectedAnswer = null;
    locked = false;

    document.getElementById("nextBtn").disabled = true;

    const q = quiz[current];

    document.getElementById("progress").innerText =
        `Question ${current + 1} of ${quiz.length}`;

    document.getElementById("score").innerText =
        `Right ${score} of ${quiz.length}`;

    document.getElementById("question").innerText = q.question;

    const optDiv = document.getElementById("options");
    optDiv.innerHTML = "";

    q.choices.forEach(opt => {
        const div = document.createElement("div");
        div.className = "option";
        div.innerText = opt;

        div.onclick = () => {
            if (locked) return;

            document.querySelectorAll(".option")
                .forEach(o => o.classList.remove("selected"));

            div.classList.add("selected");
            selectedAnswer = opt;
            document.getElementById("nextBtn").disabled = false;
        };

        optDiv.appendChild(div);
    });
}

// ---------- NEXT ----------
function nextQuestion() {
    if (locked || selectedAnswer === null) return;
    locked = true;

    const correct = quiz[current].correct;
    const options = document.querySelectorAll(".option");

    options.forEach(opt => {
        if (opt.innerText === correct) {
            opt.classList.add("correct");
        }
        if (opt.classList.contains("selected") &&
            opt.innerText !== correct) {
            opt.classList.add("wrong");
        }
    });

    if (selectedAnswer === correct) {
        score++;
        document.getElementById("score").innerText =
            `Right ${score} of ${quiz.length}`;
    }

    setTimeout(() => {
        current++;
        if (current < quiz.length) {
            renderQuestion();
        } else {
            document.querySelector(".quiz-box").innerHTML =
                `<div class="score">
                    Quiz Finished<br>
                    Final Score: ${score} / ${quiz.length}
                </div>`;
        }
    }, 1200);
}

// ---------- START ----------
renderQuestion();
</script>